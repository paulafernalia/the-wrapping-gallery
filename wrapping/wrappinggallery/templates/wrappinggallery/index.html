{% extends "wrappinggallery/layout.html" %}

{% load static %}

{% block body %}
<div class="grid" id="imageGrid" data-static-url="{% static 'wrappinggallery/' %}"></div>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        const imageFiles = [
            'figure.png',
            'figure.png',
            'figure.png',
            'figure.png',
            'figure.png',
            'figure.png',
            'figure.png',
            'figure.png',
            'figure.png'
        ];

        const gridContainer = document.getElementById('imageGrid');
        if (!gridContainer) {
            console.error('Element with ID "imageGrid" not found');
            return;
        }

        const staticUrl = gridContainer.getAttribute('data-static-url');

        imageFiles.forEach(fileName => {
            // Create grid item
            const gridItem = document.createElement('div');
            gridItem.className = 'grid-item';

            // Create image
            const img = document.createElement('img');
            img.src = staticUrl + fileName; // Combine the static URL with the file name
            img.alt = fileName;

            // Add click event to navigate to the carry page with the carry name as a query parameter
            img.addEventListener('click', () => navigateToCarry(fileName.split('.')[0]));

            // Create description container
            const descContainer = document.createElement('div');
            descContainer.className = 'desc-container';

            // Create carrydesc
            const carrydesc = document.createElement('div');
            carrydesc.className = 'carrydesc';
            carrydesc.textContent = 'Lena\'s Double Poppins';

            // Create sizedesc
            const sizedesc = document.createElement('div');
            sizedesc.className = 'sizedesc';
            sizedesc.textContent = 'Base + 1';

            // Append descriptions to the description container
            descContainer.appendChild(carrydesc);
            descContainer.appendChild(sizedesc);

            // Append image and description container to grid item
            gridItem.appendChild(img);
            gridItem.appendChild(descContainer);

            // Append grid item to grid container
            gridContainer.appendChild(gridItem);
        });
    });

    function navigateToCarry(carryName) {
        window.location.href = `carry.html?carry=${carryName}`;
    }


    function navigateToCarry(carryName) {
        window.location.href = `carry.html?carry=${carryName}`;
    }
</script>

{% endblock %}
